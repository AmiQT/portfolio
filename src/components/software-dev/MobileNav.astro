---
interface Props {
  files: { name: string; active: boolean; icon: string }[];
}

const { files } = Astro.props;
---

<!-- Mobile Bottom Navigation -->
<nav class="md:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-[#161b22] border-t border-gray-200 dark:border-gray-800 z-50 flex justify-around items-center h-16 pb-safe transition-colors duration-300">
  <!-- Files (Explorer) -->
  <button id="mobile-files-btn" class="flex flex-col items-center justify-center w-full h-full text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 active:text-blue-600 dark:active:text-blue-400 transition-colors">
    <span class="text-xl mb-1">ğŸ“‚</span>
    <span class="text-[10px] font-medium">Files</span>
  </button>

  <!-- Theme Toggle -->
  <button id="mobile-theme-btn" class="flex flex-col items-center justify-center w-full h-full text-gray-500 hover:text-yellow-500 active:text-yellow-500 transition-colors">
    <span id="mobile-sun-icon" class="text-xl mb-1 hidden">â˜€ï¸</span>
    <span id="mobile-moon-icon" class="text-xl mb-1">ğŸŒ™</span>
    <span class="text-[10px] font-medium">Theme</span>
  </button>

  <!-- Profile Switch -->
  <button id="mobile-profile-btn" class="flex flex-col items-center justify-center w-full h-full text-gray-500 hover:text-green-500 active:text-green-500 transition-colors">
    <span class="text-xl mb-1">ğŸ‘¤</span>
    <span class="text-[10px] font-medium">Role</span>
  </button>

  <!-- GitHub -->
  <a href="https://github.com/" target="_blank" class="flex flex-col items-center justify-center w-full h-full text-gray-500 hover:text-black dark:hover:text-white active:text-black dark:active:text-white transition-colors">
    <span class="text-xl mb-1">ğŸ™</span>
    <span class="text-[10px] font-medium">GitHub</span>
  </a>
</nav>

<!-- Mobile File Menu (Slide Up) -->
<div id="mobile-file-menu" class="md:hidden fixed inset-0 bg-black/50 z-40 hidden transition-opacity duration-300 opacity-0" onclick="this.classList.add('hidden'); this.classList.remove('opacity-100');">
  <div class="absolute bottom-16 left-0 right-0 bg-white dark:bg-[#0d1117] border-t border-gray-200 dark:border-gray-800 rounded-t-xl p-4 transform translate-y-full transition-transform duration-300" onclick="event.stopPropagation()">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider">Explorer</h3>
      <button class="text-gray-500 hover:text-gray-900 dark:hover:text-white" onclick="document.getElementById('mobile-file-menu').classList.add('hidden'); document.getElementById('mobile-file-menu').classList.remove('opacity-100');">âœ•</button>
    </div>
    <div class="flex flex-col gap-2">
      {files.map(file => (
        <div 
          class={`flex items-center gap-3 px-4 py-3 rounded-lg cursor-pointer text-base ${file.active ? 'bg-gray-100 dark:bg-[#1f2428] text-black dark:text-white font-medium' : 'text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-[#1f2428]'}`}
          data-mobile-file={file.name}
        >
          <span class="text-xl">{file.icon}</span>
          <span>{file.name}</span>
        </div>
      ))}
    </div>
  </div>
</div>
